<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protcam: Laboratorio Digital Interactivo</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Usando una fuente limpia y moderna (ej. Inter) para el nuevo look */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        /* ------------------------------------- */
        /* ESTILO GLOBAL Y COLORES */
        /* ------------------------------------- */

        /* Fondo general muy oscuro para contraste */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1A1A1A; /* Dark Charcoal */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding-top: 2rem; /* M√°s espacio arriba */
            padding-bottom: 2rem;
            color: #E5E7EB; /* Light Gray text */
            position: relative; /* Necesario para el canvas de fondo */
        }
        
        /* Contenedor del Canvas de fondo */
        #interactive-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Mover detr√°s del contenido principal */
        }

        /* **SPLASH SCREEN STYLES** */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #1A1A1A; 
            z-index: 9999;
            display: flex;
            flex-direction: column; /* Alineaci√≥n vertical */
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease-out; 
            opacity: 1; 
        }
        
        @keyframes splash-hide {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }
        
        .splash-fade-out {
            animation: splash-hide 0.5s forwards;
        }

        /* Estilo del T√≠tulo en Splash Screen (ESCRITORIO) */
        .splash-title {
            font-size: 6rem; /* Large text */
            color: white;
            font-weight: 900;
            margin-bottom: 20px; /* Espacio para el spinner */
        }
        
        /* Ajuste de t√≠tulo para M√ìVIL (menos de 640px) */
        @media (max-width: 640px) {
            .splash-title {
                font-size: 3rem; 
            }
        }
        
        /* SPINNER DE CARGA (SIMILAR A WINDOWS) */
        .loading-ring {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid rgba(233, 76, 95, 0.2); /* Borde semitransparente */
            border-radius: 50%;
            border-top-color: #E94C5F; /* Color de acento */
            animation: spin 1s infinite cubic-bezier(0.5, 0, 0.5, 1);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* FIN SPINNER DE CARGA */

        /* Contenedor principal: Semitransparente para ver el fondo animado */
        #main-content {
            background-color: rgba(33, 33, 33, 0.85); /* Semitransparente */
            border: none;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            /* RESPONSIVE: Ancho m√°ximo grande, pero flexible */
            max-width: 1400px; 
            min-height: 80vh; /* Ajuste de altura m√≠nima para ser flexible */
            
            /* Transici√≥n de visibilidad */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease-in, visibility 0.5s ease-in;
        }

        .content-visible {
            opacity: 1 !important;
            visibility: visible !important;
            display: flex !important; /* Aseguramos que se muestre */
        }

        /* Color de acento (Rojo/Rosa - Elementos Interactivos) */
        .accent-color {
            color: #E94C5F; 
        }
        /* Color de Fondo Tecnol√≥gico (Cian/Ne√≥n) */
        .tech-bg-color {
            color: #00FFFF;
        }

        /* Clase para t√≠tulos principales */
        .main-title {
            font-weight: 900;
            color: white;
            letter-spacing: -1px;
        }

        /* ------------------------------------- */
        /* ESTILOS DE BOTONES Y TARJETAS */
        /* ------------------------------------- */

        /* √çconos de servicio (Laboratorio) */
        .interactive-icon {
            transition: all 0.3s ease;
            cursor: pointer;
            /* Usamos un borde sutil de ne√≥n cian para el fondo */
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.2), 0 4px 15px rgba(0, 0, 0, 0.4);
            background-color: rgba(42, 42, 42, 0.7); /* Darker background with opacity */
            border: 1px solid #00FFFF; /* Soft neon border */
        }

        .interactive-icon:hover {
            transform: scale(1.05); 
            background-color: rgba(51, 51, 51, 0.9);
            /* Sombra m√°s intensa al hacer hover */
            box-shadow: 0 0 15px #00FFFF, 0 8px 25px rgba(0, 0, 0, 0.7);
        }

        /* Tarjetas de Diagn√≥stico y Cursos */
        .course-card, .diagnosis-card {
            border: 1px solid #444;
            background-color: rgba(42, 42, 42, 0.9); /* Ligeramente m√°s opaco que el principal */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .course-card:hover, .diagnosis-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(233, 76, 95, 0.2); 
        }

        /* Estilo para los botones de consulta (Acciones - Mantiene el rojo) */
        .diagnosis-card button, .course-card button {
            background-color: #E94C5F; 
            color: white;
            box-shadow: 0 4px 10px 0 rgba(233, 76, 95, 0.5);
            transition: background-color 0.3s ease;
        }
        .diagnosis-card button:hover, .course-card button:hover {
            background-color: #CC4053; 
            box-shadow: 0 4px 15px 0 rgba(233, 76, 95, 0.8);
        }
        
        /* Bot√≥n Volver a Servicios */
        .back-button {
            color: #E94C5F;
            border-color: #E94C5F;
        }
        .back-button:hover {
            background-color: #E94C5F;
            color: white;
        }

        /* Misi√≥n/Visi√≥n y Direcci√≥n */
        .address-box, .purpose-box {
            border: 1px solid #444;
            box-shadow: none;
            background-color: rgba(42, 42, 42, 0.9); 
        }

        /* Consola de Mensajes (Ahora es un simple banner informativo) */
        .message-box {
            border: 1px solid #00FFFF; /* Cian */
            background-color: rgba(51, 51, 51, 0.8);
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }
        
        /* Iconos en Misi√≥n/Visi√≥n usan Cian */
        .purpose-box svg {
            stroke: #00FFFF; 
        }

        /* ------------------------------------- */
        /* ANIMACI√ìN DE DESINTEGRACI√ìN Y TRANSICI√ìN */
        /* ------------------------------------- */
        /* ... (Mantenidas sin cambios) ... */

        @keyframes disintegration {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1) rotateX(10deg); opacity: 0.8; }
            100% { 
                opacity: 0; 
                transform: scale(0.5) rotate(5deg);
                filter: blur(5px); 
            }
        }
        
        .disintegrate {
            animation: disintegration 0.5s forwards;
            pointer-events: none;
        }

        @keyframes fade-in-scale-up {
            0% { opacity: 0; transform: translateY(20px) scale(0.98); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        .view-transition {
            animation: fade-in-scale-up 0.4s ease-out forwards;
        }
    </style>
</head>
<body class="w-screen flex flex-col items-center justify-start p-4">

    <!-- CANVAS PARA EL FONDO ANIMADO DE CIRCUITOS -->
    <canvas id="interactive-background"></canvas>

    <!-- SPLASH SCREEN DE ANIMACI√ìN DE INICIO -->
    <div id="splash-screen">
        <h1 class="splash-title uppercase">PROTCAM</h1>
        <div class="loading-ring"></div>
        <!-- BOT√ìN PARA CONTINUAR -->
        <button id="skip-splash-btn" class="mt-8 px-6 py-2 bg-[#E94C5F] text-white font-bold rounded-lg hover:bg-[#CC4053] transition-colors" onclick="showMainContent()">Continuar</button>
    </div>

    <!-- Contenedor Principal RESPONSIVO -->
    <main id="main-content" class="relative z-10 w-full max-w-7xl flex flex-col items-center justify-start p-4 md:p-8 rounded-xl flex-grow overflow-y-auto">
        
        <!-- T√çTULO PRINCIPAL - Estilo Hero Section -->
        <h1 class="text-4xl sm:text-6xl main-title mb-2 tracking-normal uppercase text-center">PROTCAM</h1>
        <p class="text-sm sm:text-lg accent-color mb-12 font-semibold text-center">M√©rida, Yucat√°n | Soluciones Digitales y Capacitaci√≥n</p>

        <!-- UBICACI√ìN F√çSICA -->
        <div class="address-box w-full p-4 md:p-6 mb-12 rounded-lg text-center">
            <h2 class="text-xl font-bold accent-color mb-2">üìç ¬°Vis√≠tanos en M√©rida!</h2>
            <p class="text-lg text-white font-semibold">C. 31·¥Æ 228, CTM, 97144 M√©rida, Yuc.</p>
            <p class="text-sm text-gray-400 mt-1">Calle, 31b #228 Pol√≠gono, CTM, 97143 M√©rida, Yuc.</p>
            
            <!-- Bot√≥n de Abrir en Maps -->
            <a href="https://share.google/XxEu7kAodEQZIEjpo" target="_blank" class="mt-4 inline-block text-white bg-[#E94C5F] px-4 py-2 rounded-lg text-sm hover:bg-[#CC4053] transition-colors font-bold">
                Abrir Ubicaci√≥n en Maps
            </a>
        </div>
        
        <!-- MISI√ìN Y VISI√ìN -->
        <div class="purpose-box w-full p-6 mb-12 rounded-lg text-left">
            <h2 class="text-3xl font-bold accent-color mb-4 text-center border-b border-[#444] pb-2">Prop√≥sito Protcam</h2>
            
            <!-- Layout de Misi√≥n/Visi√≥n RESPONSIVO -->
            <div class="flex flex-col md:flex-row gap-6">
                <!-- Misi√≥n -->
                <div class="flex-1">
                    <h3 class="text-xl font-bold text-white mb-2 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                        Nuestra Misi√≥n
                    </h3>
                    <p class="text-gray-400 text-sm">Ofrecer soluciones tecnol√≥gicas integrales y confiables en la reparaci√≥n de equipos y la capacitaci√≥n inform√°tica, asegurando que nuestros clientes dominen y utilicen la tecnolog√≠a para alcanzar su m√°ximo potencial.</p>
                </div>

                <!-- Visi√≥n -->
                <div class="flex-1">
                    <h3 class="text-xl font-bold text-white mb-2 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M10 12l-6-6M10 12l-6 6M10 12h12M14 8l-4 4 4 4"/></svg>
                        Nuestra Visi√≥n
                    </h3>
                    <p class="text-gray-400 text-sm">Ser el centro tecnol√≥gico l√≠der en M√©rida y la Pen√≠nsula de Yucat√°n, reconocido por la excelencia en el servicio, la innovaci√≥n educativa y el compromiso inquebrantable con la satisfacci√≥n y el crecimiento digital de nuestros usuarios.</p>
                </div>
            </div>
        </div>


        <!-- --------------------------------------- -->
        <!-- VISTA PRINCIPAL: LABORATORIO DE SERVICIOS -->
        <!-- --------------------------------------- -->
        <div id="lab-view" class="w-full">
            
            <h2 class="text-3xl font-bold text-white mb-8 text-center border-b border-[#444] pb-2">Nuestros Servicios</h2>

            <!-- Contenedor de iconos interactivos RESPONSIVO: 1 col m√≥vil, 2 col tablet, 3 col desktop -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 justify-center w-full">
                
                <!-- Icono 1: Reparaci√≥n de Computadoras -->
                <div id="icon-pc" data-service="computadoras" class="interactive-icon flex flex-col items-center p-8 rounded-lg">
                    <!-- SVG de Computadora y Herramienta -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#E94C5F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-4">
                        <rect x="2" y="3" width="20" height="15" rx="2" ry="2"/>
                        <line x1="10" y1="18" x2="14" y2="18"/>
                        <line x1="12" y1="18" x2="12" y2="21"/>
                        <path d="M14.7 6.3l-2.4 2.4-1.4-1.4-2.4 2.4"/>
                        <path d="M12 10l-1.4 1.4L12 12l1.4-1.4z"/>
                        <line x1="16" y1="4" x2="16" y2="8"/>
                        <line x1="15" y1="5" x2="17" y2="5"/>
                    </svg>
                    <span class="text-xl font-bold text-white text-center">Diagn√≥stico PC</span>
                    <span class="text-sm text-gray-400 mt-2 text-center">Hardware | Software | Optimizaci√≥n</span>
                </div>

                <!-- Icono 2: Reparaci√≥n de Celulares -->
                <div id="icon-mobile" data-service="celulares" class="interactive-icon flex flex-col items-center p-8 rounded-lg">
                    <!-- SVG de Smartphone y Reparaci√≥n -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#E94C5F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-4">
                        <rect x="5" y="2" width="14" height="20" rx="2" ry="2"/>
                        <path d="M12 18h.01"/>
                        <line x1="12" y1="4" x2="12" y2="6"/>
                        <path d="M12 12l2.4-2.4 1.4 1.4-2.4 2.4"/>
                        <path d="M10 14l-2.4-2.4 1.4-1.4 2.4 2.4"/>
                        <circle cx="12" cy="12" r="1"/>
                    </svg>
                    <span class="text-xl font-bold text-white text-center">Diagn√≥stico M√≥vil</span>
                    <span class="text-sm text-gray-400 mt-2 text-center">Pantallas | Bater√≠as | Software</span>
                </div>
                
                <!-- Icono 3: Cursos de Inform√°tica -->
                <div id="icon-courses" data-service="cursos" class="interactive-icon flex flex-col items-center p-8 rounded-lg">
                    <!-- SVG de Libro Abierto -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#E94C5F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-4">
                        <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                        <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
                        <line x1="12" y1="21" x2="12" y2="10"/>
                        <polyline points="12 10 15 7 18 10"/>
                    </svg>
                    <span class="text-xl font-bold text-white text-center">M√≥dulos de Estudio</span>
                    <span class="text-sm text-gray-400 mt-2 text-center">Nivel B√°sico | Avanzado | Especializado</span>
                </div>

            </div>

            <!-- Contenedor del diagn√≥stico y bot√≥n de WhatsApp -->
            <div class="mt-12 w-full flex flex-col items-center gap-4">
                <!-- √Årea de Mensajes Din√°micos (Consola de Diagn√≥stico) -->
                <div id="message-container" class="w-full h-24 bg-[#2A2A2A] border-4 border-[#E94C5F] rounded-lg p-3 transition-all duration-300 flex items-center justify-center text-center text-lg shadow-xl ">
                    <span class="text-gray-400">Esperando Comando... Haz clic en un servicio para iniciar la navegaci√≥n.</span>
                </div>

                <!-- Bot√≥n de WhatsApp (Oculto) -->
                <button id="whatsapp-btn" class="whatsapp-button w-full md:w-1/2 p-3 text-lg font-bold text-white rounded-lg opacity-0 pointer-events-none transform -translate-y-4" onclick="contactWhatsApp()">
                    <div class="flex items-center justify-center">
                        <!-- SVG del logo de WhatsApp -->
                        <svg class="mr-2 h-6 w-6" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M12.04 2C6.54 2 2.08 6.46 2.08 11.96C2.08 13.79 2.58 15.48 3.42 16.96L2.04 22L7.38 20.62C8.84 21.37 10.39 21.75 12.04 21.75C17.54 21.75 22 17.29 22 11.79C22 6.29 17.54 2 12.04 2ZM17.18 15.75C16.92 16.2 14.97 17.25 14.5 17.34C14.03 17.43 13.25 17.38 12.02 16.98C10.66 16.53 9.77 15.35 9.07 14.24C8.37 13.13 8.16 12.44 8.24 12.06C8.32 11.68 8.65 11.23 8.94 10.94C9.23 10.65 9.47 10.37 9.74 10.09C10.01 9.81 10.19 9.53 10.37 9.19C10.55 8.85 10.46 8.52 10.34 8.29C10.22 8.06 9.49 6.28 9.17 5.51C8.85 4.74 8.54 4.86 8.29 4.86C8.04 4.86 7.74 4.86 7.49 4.86C7.24 4.86 6.89 4.95 6.55 5.37C6.21 5.79 5.38 6.64 5.38 8.2C5.38 9.76 6.57 11.31 6.79 11.58C7.01 11.85 9.16 15.26 12.49 16.6C15.02 17.65 15.45 17.43 15.93 17.38C16.41 17.33 17.33 16.7 17.56 16.33C17.79 15.96 17.79 15.54 17.56 15.27C17.33 15 17.18 14.95 16.98 14.86C16.78 14.77 15.54 14.28 15.3 14.18C15.06 14.08 14.82 14.03 14.58 14.03C14.34 14.03 14.04 14.08 13.75 14.08C13.46 14.08 12.69 14.25 12.69 15.11C12.69 15.97 13.16 16.27 13.16 16.37C13.16 16.47 13.16 16.47 13.16 16.47Z"/></svg>
                        <span>¬°Cont√°ctanos por WhatsApp!</span>
                    </div>
                </button>
            </div>
        </div>
        
        <!-- --------------------------------------- -->
        <!-- VISTA DETALLE: DIAGN√ìSTICO PC -->
        <!-- --------------------------------------- -->
        <div id="pc-diagnosis-view" class="w-full hidden transition-opacity duration-500">
            <button onclick="navigateToMain()" class="mb-6 px-4 py-2 border back-button rounded-lg transition-colors flex items-center">
                <!-- SVG de Flecha izquierda -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M19 12H5"/><path d="M12 19l-7-7 7-7"/></svg>
                Volver a Servicios
            </button>

            <h2 class="text-4xl text-white font-bold mb-8 border-b border-[#444] pb-2 text-center">Servicios de Diagn√≥stico PC y Laptop</h2>

            <!-- Grid de Diagn√≥sticos PC RESPONSIVO: 1 col m√≥vil, 2 col tablet, 3 col desktop -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                
                <!-- Diagn√≥stico PC 1: Hardware -->
                <div class="diagnosis-card p-6 rounded-xl">
                    <h3 class="text-2xl accent-color font-bold mb-2">Reparaci√≥n y Reemplazo de Hardware</h3>
                    <p class="text-gray-400 mb-4">Solucionamos fallas f√≠sicas en componentes internos y externos de tu equipo.</p>
                    <ul class="list-disc list-inside text-sm text-gray-300 ml-4">
                        <li>Reemplazo de Discos Duros/SSD</li>
                        <li>Ampliaci√≥n de Memoria RAM</li>
                        <li>Reparaci√≥n o Cambio de Pantalla/Teclado</li>
                        <li>Mantenimiento y Limpieza de Placa Base</li>
                    </ul>
                    <button class="mt-4 px-4 py-2 w-full font-semibold transition-colors" onclick="contactWhatsAppDiagnosisPC('Falla de Hardware (PC/Laptop)')">
                        ¬°Consultar Hardware!
                    </button>
                </div>

                <!-- Diagn√≥stico PC 2: Software -->
                <div class="diagnosis-card p-6 rounded-xl">
                    <h3 class="text-2xl accent-color font-bold mb-2">Instalaci√≥n y Correcci√≥n de Software</h3>
                    <p class="text-gray-400 mb-4">Problemas con sistemas operativos, aplicaciones y virus que afectan el rendimiento.</p>
                    <ul class="list-disc list-inside text-sm text-gray-300 ml-4">
                        <li>Formateo e Instalaci√≥n de Windows/MacOS/Linux</li>
                        <li>Eliminaci√≥n de Virus, Malware y Adware</li>
                        <li>Instalaci√≥n y Configuraci√≥n de Programas Esenciales</li>
                        <li>Recuperaci√≥n de Archivos Eliminados</li>
                    </ul>
                    <button class="mt-4 px-4 py-2 w-full font-semibold transition-colors" onclick="contactWhatsAppDiagnosisPC('Problemas de Software/Sistema Operativo')">
                        ¬°Consultar Software!
                    </button>
                </div>

                <!-- Diagn√≥stico PC 3: Optimizaci√≥n -->
                <div class="diagnosis-card p-6 rounded-xl">
                    <h3 class="text-2xl accent-color font-bold mb-2">Optimizaci√≥n y Mantenimiento Preventivo</h3>
                    <p class="text-gray-400 mb-4">Mantenemos tu equipo r√°pido, fresco y con el mejor rendimiento a largo plazo.</p>
                    <ul class="list-disc list-inside text-sm text-gray-300 ml-4">
                        <li>Mantenimiento F√≠sico Interno (Limpieza de polvo)</li>
                        <li>Cambio de Pasta T√©rmica (Evita sobrecalentamiento)</li>
                        <li>Ajuste de Arranque y Desinstalaci√≥n de Bloatware</li>
                        <li>Diagn√≥stico General de Velocidad</li>
                    </ul>
                    <button class="mt-4 px-4 py-2 w-full font-semibold transition-colors" onclick="contactWhatsAppDiagnosisPC('Optimizaci√≥n y Mantenimiento')">
                        ¬°Consultar Optimizaci√≥n!
                    </button>
                </div>

            </div>
        </div>
        <!-- Fin de VISTA DETALLE: DIAGN√ìSTICO PC -->

        <!-- --------------------------------------- -->
        <!-- VISTA DETALLE: DIAGN√ìSTICO M√ìVIL -->
        <!-- --------------------------------------- -->
        <div id="mobile-diagnosis-view" class="w-full hidden transition-opacity duration-500">
            <button onclick="navigateToMain()" class="mb-6 px-4 py-2 border back-button rounded-lg transition-colors flex items-center">
                <!-- SVG de Flecha izquierda -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M19 12H5"/><path d="M12 19l-7-7 7-7"/></svg>
                Volver a Servicios
            </button>

            <h2 class="text-4xl text-white font-bold mb-8 border-b border-[#444] pb-2 text-center">Servicios de Diagn√≥stico Celular</h2>

            <!-- Grid de Diagn√≥sticos M√≥vil RESPONSIVO: 1 col m√≥vil, 2 col tablet, 3 col desktop -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                
                <!-- Diagn√≥stico 1: Hardware y Pantalla -->
                <div class="diagnosis-card p-6 rounded-xl">
                    <h3 class="text-2xl accent-color font-bold mb-2">Da√±os F√≠sicos y Pantalla</h3>
                    <p class="text-gray-400 mb-4">Problemas de pantallas rotas, fallas en el t√°ctil, c√°maras y puertos de carga da√±ados.</p>
                    <ul class="list-disc list-inside text-sm text-gray-300 ml-4">
                        <li>Reemplazo de Pantalla LCD/OLED</li>
                        <li>Reparaci√≥n de Puertos (USB/Lightning)</li>
                        <li>Cambio de Carcasas y Botones</li>
                    </ul>
                    <button class="mt-4 px-4 py-2 w-full font-semibold transition-colors" onclick="contactWhatsAppDiagnosis('Da√±os F√≠sicos y Pantalla')">
                        ¬°Consultar Diagn√≥stico!
                    </button>
                </div>

                <!-- Diagn√≥stico 2: Bater√≠a y Carga -->
                <div class="diagnosis-card p-6 rounded-xl">
                    <h3 class="text-2xl accent-color font-bold mb-2">Rendimiento de Bater√≠a</h3>
                    <p class="text-gray-400 mb-4">Tu celular se descarga r√°pido, no carga o se apaga inesperadamente. Soluciones de energ√≠a garantizadas.</p>
                    <ul class="list-disc list-inside text-sm text-gray-300 ml-4">
                        <li>Test y Calibraci√≥n de Bater√≠a</li>
                        <li>Reemplazo de Bater√≠a Original</li>
                        <li>Reparaci√≥n de Circuito de Carga (IC)</li>
                    </ul>
                    <button class="mt-4 px-4 py-2 w-full font-semibold transition-colors" onclick="contactWhatsAppDiagnosis('Rendimiento de Bater√≠a')">
                        ¬°Consultar Diagn√≥stico!
                    </button>
                </div>

                <!-- Diagn√≥stico 3: Software y L√≥gica -->
                <div class="diagnosis-card p-6 rounded-xl">
                    <h3 class="text-2xl accent-color font-bold mb-2">Fallas de Software/OS</h3>
                    <p class="text-gray-400 mb-4">Errores del sistema operativo, tel√©fono bloqueado, virus o bajo rendimiento por software.</p>
                    <ul class="list-disc list-inside text-sm text-gray-300 ml-4">
                        <li>Actualizaci√≥n y Flasheo de OS (Android/iOS)</li>
                        <li>Eliminaci√≥n de Virus y Malware</li>
                        <li>Recuperaci√≥n y Respaldo de Datos</li>
                    </ul>
                    <button class="mt-4 px-4 py-2 w-full font-semibold transition-colors" onclick="contactWhatsAppDiagnosis('Fallas de Software/OS')">
                        ¬°Consultar Diagn√≥stico!
                    </button>
                </div>

            </div>
        </div>
        <!-- Fin de VISTA DETALLE: DIAGN√ìSTICO M√ìVIL -->

        <!-- --------------------------------------- -->
        <!-- VISTA DE CURSOS -->
        <!-- --------------------------------------- -->
        <div id="courses-view" class="w-full hidden transition-opacity duration-500">
            <button onclick="navigateToMain()" class="mb-6 px-4 py-2 border back-button rounded-lg transition-colors flex items-center">
                <!-- SVG de Flecha izquierda -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M19 12H5"/><path d="M12 19l-7-7 7-7"/></svg>
                Volver a Servicios
            </button>

            <h2 class="text-4xl text-white font-bold mb-8 border-b border-[#444] pb-2 text-center">Cat√°logo de Capacitaci√≥n Digital</h2>

            <!-- Gemini Career Recommendation Tool -->
            <div class="course-card p-6 rounded-xl mb-8">
                <h3 class="text-2xl accent-color font-bold mb-4 flex items-center">
                    <span class="mr-2 text-3xl">‚ú®</span> Asistente de Ruta Digital
                </h3>
                <p class="text-gray-400 mb-4 text-sm">Describe tu objetivo profesional o qu√© te gustar√≠a aprender, y nuestro asistente IA te recomendar√° el mejor curso Protcam.</p>
                
                <div class="flex flex-col md:flex-row gap-4">
                    <input type="text" id="career-goal-input" placeholder="Ej: Quiero mejorar mi CV para conseguir un mejor trabajo..." class="flex-grow p-3 rounded-lg bg-[#1A1A1A] border border-[#444] text-white focus:ring-2 focus:ring-[#E94C5F]" />
                    <button id="generate-recommendation-btn" class="p-3 bg-[#E94C5F] rounded-lg hover:bg-[#CC4053] font-semibold transition-colors flex items-center justify-center disabled:opacity-50" onclick="generateCareerRecommendation()">
                        <span id="btn-text">‚ú® Generar Recomendaci√≥n</span>
                        <div id="loading-spinner" class="spinner hidden ml-2"></div>
                    </button>
                </div>
                
                <div id="career-recommendation-output" class="mt-4 p-4 bg-[#1A1A1A] rounded-lg hidden border border-[#444]">
                    <p class="accent-color font-bold mb-2">Respuesta del Asistente:</p>
                    <p id="recommendation-text" class="text-gray-300 text-sm whitespace-pre-line">Esperando objetivos...</p>
                </div>
            </div>

            <!-- Grid de Cursos RESPONSIVO: 1 col m√≥vil, 2 col tablet, 4 col desktop -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                
                <!-- Curso B√°sico -->
                <div class="course-card p-6 rounded-xl">
                    <div class="flex justify-between items-start mb-2">
                         <h3 class="text-xl accent-color font-bold pr-2 flex-grow">Nivel B√°sico: Dominio Esencial</h3>
                    </div>
                    <p class="text-gray-400 mb-4 text-sm">Ideal para principiantes. Aprende a usar Windows, Office (Word, Excel) y navegar en internet de forma segura y eficiente.</p>
                    <ul class="course-list text-sm text-gray-300 ml-4">
                        <li>Introducci√≥n a Sistemas Operativos</li>
                        <li>Gesti√≥n de Archivos y Nubes</li>
                        <li>Correo Electr√≥nico y Seguridad Web</li>
                    </ul>
                    <button class="mt-4 px-4 py-2 w-full font-semibold transition-colors" onclick="contactWhatsAppCourse('Curso B√°sico: Dominio Esencial')">
                        ¬°Preguntar por este Curso!
                    </button>
                    <!-- PRECIO A√ëADIDO ABAJO DEL BOT√ìN -->
                    <p class="text-gray-400 text-sm mt-2 text-center font-bold">Costo: $1,200 MXN</p>
                </div>
                
                <!-- Curso Infantil -->
                <div class="course-card p-6 rounded-xl">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="text-xl accent-color font-bold pr-2 flex-grow">Nivel Infantil: Exploradores Digitales</h3>
                    </div>
                    <p class="text-gray-400 mb-4 text-sm">Un inicio divertido y seguro en el mundo digital. Aprende l√≥gica, programaci√≥n b√°sica y uso creativo de herramientas.</p>
                    <ul class="course-list text-sm text-gray-300 ml-4">
                        <li>Introducci√≥n a la L√≥gica de Programaci√≥n</li>
                        <li>Navegaci√≥n Web Segura para Ni√±os</li>
                        <li>Creaci√≥n de Dibujos Digitales B√°sicos</li>
                    </ul>
                    <button class="mt-4 px-4 py-2 w-full font-semibold transition-colors" onclick="contactWhatsAppCourse('Curso Infantil: Exploradores Digitales')">
                        ¬°Preguntar por este Curso!
                    </button>
                    <!-- PRECIO A√ëADIDO ABAJO DEL BOT√ìN -->
                    <p class="text-gray-400 text-sm mt-2 text-center font-bold">Costo: $1,000 MXN</p>
                </div>
                
                <!-- Curso Padres -->
                <div class="course-card p-6 rounded-xl">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="text-xl accent-color font-bold pr-2 flex-grow">Nivel Padres: Seguridad y Control Parental</h3>
                    </div>
                    <p class="text-gray-400 mb-4 text-sm">Gu√≠a completa para proteger a tus hijos en el entorno digital. Aprende sobre ciberseguridad familiar y l√≠mites de uso.</p>
                    <ul class="list-disc list-inside text-sm text-gray-300 ml-4">
                        <li>Configuraci√≥n de Control Parental (M√≥vil y PC)</li>
                        <li>Prevenci√≥n de Ciberacoso y Grooming</li>
                        <li>Gesti√≥n de Tiempo en Pantalla y H√°bitos Saludables</li>
                    </ul>
                    <button class="mt-4 px-4 py-2 w-full font-semibold transition-colors" onclick="contactWhatsAppCourse('Curso Padres: Seguridad y Control Parental')">
                        ¬°Preguntar por este Curso!
                    </button>
                    <!-- PRECIO ASIGNADO ABAJO DEL BOT√ìN -->
                    <p class="text-gray-400 text-sm mt-2 text-center font-bold">Costo: $950 MXN</p>
                </div>

                <!-- Curso Avanzado -->
                <div class="course-card p-6 rounded-xl">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="text-xl accent-color font-bold pr-2 flex-grow">Nivel Avanzado: Productividad y Redes</h3>
                    </div>
                    <p class="text-gray-400 mb-4 text-sm">Dise√±ado para quienes buscan optimizar su trabajo. Profundiza en hojas de c√°lculo, presentaciones din√°micas y configuraci√≥n de redes b√°sicas.</p>
                    <ul class="course-list text-sm text-gray-300 ml-4">
                        <li>Excel Avanzado y Tablas Din√°micas</li>
                        <li>Configuraci√≥n de Redes Dom√©sticas</li>
                        <li>Seguridad Inform√°tica y Respaldo de Datos</li>
                    </ul>
                    <button class="mt-4 px-4 py-2 w-full font-semibold transition-colors" onclick="contactWhatsAppCourse('Curso Avanzado: Productividad y Redes')">
                        ¬°Preguntar por este Curso!
                    </button>
                    <!-- PRECIO A√ëADIDO ABAJO DEL BOT√ìN -->
                    <p class="text-gray-400 text-sm mt-2 text-center font-bold">Costo: $1,800 MXN</p>
                </div>

            </div>
        </div>
        <!-- Fin de VISTA DE CURSOS -->

    </main>

    <script>
        // Configuraci√≥n de la API de Gemini
        const API_KEY = ""; 
        const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${API_KEY}`;
        
        // Elementos DOM
        const messageContainer = document.getElementById('message-container');
        const whatsappBtn = document.getElementById('whatsapp-btn');
        const mainContent = document.getElementById('main-content');
        const labView = document.getElementById('lab-view');
        const coursesView = document.getElementById('courses-view');
        const mobileDiagnosisView = document.getElementById('mobile-diagnosis-view'); 
        const pcDiagnosisView = document.getElementById('pc-diagnosis-view');
        const careerInput = document.getElementById('career-goal-input');
        const recommendationOutput = document.getElementById('career-recommendation-output');
        const recommendationText = document.getElementById('recommendation-text');
        const generateBtn = document.getElementById('generate-recommendation-btn');
        const btnText = document.getElementById('btn-text');
        const loadingSpinner = document.getElementById('loading-spinner');
        const splashScreen = document.getElementById('splash-screen'); // A√±adido

        const WA_NUMBER = '+529995529639'; 
        let currentWaText = ''; 
        
        // --- Variables del Canvas de Fondo ---
        const canvas = document.getElementById('interactive-background');
        const ctx = canvas.getContext('2d');
        // Declaraci√≥n sin 'let' para evitar el SyntaxError
        var W, H; 
        const PARTICLE_COUNT = 80; // Menos part√≠culas para un look m√°s sutil
        const PARTICLE_COLOR = '#00FFFF'; // Cian para el ne√≥n
        const LINE_COLOR = 'rgba(0, 255, 255, 0.15)'; 
        const particles = [];
        
        class Particle {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.size = 2;
                this.speedX = (Math.random() - 0.5) * 0.5; // Movimiento m√°s lento
                this.speedY = (Math.random() - 0.5) * 0.5;
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;

                // Reaparecer si sale de los l√≠mites
                if (this.x < 0 || this.x > W) this.x = this.x < 0 ? W : 0;
                if (this.y < 0 || this.y > H) this.y = this.y < 0 ? H : 0;
            }

            draw() {
                ctx.fillStyle = PARTICLE_COLOR;
                ctx.shadowColor = PARTICLE_COLOR;
                ctx.shadowBlur = 5;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        
        function initCanvas() {
            // Asignaci√≥n de variables globales W y H
            W = window.innerWidth;
            H = window.innerHeight;
            canvas.width = W;
            canvas.height = H;
        }

        function populateParticles() {
            particles.length = 0; // Limpiar part√≠culas existentes
            for (let i = 0; i < PARTICLE_COUNT; i++) {
                particles.push(new Particle(Math.random() * W, Math.random() * H));
            }
        }

        function connectParticles() {
            for (let a = 0; a < particles.length; a++) {
                for (let b = a; b < particles.length; b++) {
                    const distance = Math.sqrt(
                        (particles[a].x - particles[b].x) ** 2 +
                        (particles[a].y - particles[b].y) ** 2
                    );

                    // Conexi√≥n m√°s corta para look m√°s denso y sutil
                    if (distance < 100) { 
                        ctx.strokeStyle = LINE_COLOR;
                        ctx.lineWidth = 1;
                        ctx.beginPath();
                        ctx.moveTo(particles[a].x, particles[a].y);
                        ctx.lineTo(particles[b].x, particles[b].y);
                        ctx.stroke();
                    }
                }
            }
        }

        function animateCanvas() {
            // Dibujar fondo oscuro semi-transparente para rastro de part√≠culas
            ctx.fillStyle = 'rgba(26, 26, 26, 0.4)'; 
            ctx.fillRect(0, 0, W, H);

            connectParticles();
            particles.forEach(p => {
                p.update();
                p.draw();
            });

            requestAnimationFrame(animateCanvas);
        }
        
        // --- Fin Variables del Canvas de Fondo ---
        

        // Define showMainContent globalmente al inicio para que el onclick del bot√≥n funcione inmediatamente.
        function showMainContent() {
            const fadeTime = 500;
            
            // 1. Oculta la splash screen con un efecto de desvanecimiento
            splashScreen.classList.add('splash-fade-out');
            
            // Usamos setTimeout para permitir que la animaci√≥n CSS se ejecute
            setTimeout(() => {
                // 2. Muestra el contenido principal forzando el display y la opacidad con la clase
                mainContent.classList.add('content-visible');
                // 3. Oculta la splash screen completamente despu√©s de la transici√≥n
                splashScreen.style.display = 'none'; 
                
                // 4. Inicia la animaci√≥n del fondo
                initCanvas();
                populateParticles();
                animateCanvas();
                window.addEventListener('resize', initCanvas);
                
            }, fadeTime);
        }
        window.showMainContent = showMainContent; // Hacemos la funci√≥n global
        
        // Definici√≥n de mensajes y acciones por servicio
        const serviceMessages = {
            computadoras: {
                message: "ACCEDIENDO A SERVICIOS DE DIAGN√ìSTICO PC/LAPTOP...", 
                color: 'text-white', // Redirigido
                border: 'border-[#E94C5F]', // Nuevo color
                shadow: 'shadow-red-900/50',
                view: pcDiagnosisView 
            },
            celulares: {
                message: "ACCEDIENDO A SERVICIOS DE DIAGN√ìSTICO M√ìVIL...", 
                color: 'text-white', // Redirigido
                border: 'border-[#E94C5F]', 
                shadow: 'shadow-red-900/50',
                view: mobileDiagnosisView 
            },
            cursos: {
                message: "ACCEDIENDO A CAT√ÅLOGO DE CURSOS...", 
                color: 'text-white', // Redirigido
                border: 'border-[#E94C5F]', 
                shadow: 'shadow-red-900/50',
                view: coursesView 
            }
        };
        
        // --- Navigation Functions (Preserved) ---

        // Oculta todas las vistas secundarias y muestra la principal
        function navigateToMain() {
            coursesView.classList.add('hidden');
            mobileDiagnosisView.classList.add('hidden');
            pcDiagnosisView.classList.add('hidden');
            // Quita la animaci√≥n al ocultar la vista
            coursesView.classList.remove('view-transition');
            mobileDiagnosisView.classList.remove('view-transition');
            pcDiagnosisView.classList.remove('view-transition');
            
            labView.classList.remove('hidden');
            
            // Restablece el mensaje de la consola
            messageContainer.className = 'w-full h-24 bg-[#2A2A2A] border-4 border-[#E94C5F] rounded-lg p-3 transition-all duration-300 flex items-center justify-center text-center text-lg';
            messageContainer.querySelector('span').textContent = 'Esperando Comando... Haz clic en un servicio para iniciar la navegaci√≥n.';
            messageContainer.classList.remove('message-box');

            // Asegura que el bot√≥n de WhatsApp se oculte
            whatsappBtn.classList.remove('opacity-100', 'pointer-events-auto', 'transform-y-0');
            whatsappBtn.classList.add('opacity-0', 'pointer-events-none', '-translate-y-4');
        }

        // Funci√≥n de navegaci√≥n gen√©rica para mostrar cualquier vista
        function navigateToView(targetView) {
            labView.classList.add('hidden');
            coursesView.classList.add('hidden');
            mobileDiagnosisView.classList.add('hidden');
            pcDiagnosisView.classList.add('hidden'); 
            
            // Aplica animaci√≥n de transici√≥n
            targetView.classList.remove('hidden');
            targetView.classList.add('view-transition');

            // Asegura que el bot√≥n de WhatsApp se oculte al salir de la vista principal
            whatsappBtn.classList.remove('opacity-100', 'pointer-events-auto', 'transform-y-0');
            whatsappBtn.classList.add('opacity-0', 'pointer-events-none', '-translate-y-4');
        }

        // Funci√≥n para simular el efecto de tecleo (Preserved)
        function typewriterEffect(text, element, callback) {
            let i = 0;
            element.textContent = '';
            const speed = 30; // Velocidad de escritura

            function type() {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                } else if (callback) {
                    callback();
                }
            }
            type();
        }

        function displayMessage(service, iconElement) {
            const data = serviceMessages[service];
            
            // ANIMACI√ìN DE DESINTEGRACI√ìN
            iconElement.classList.add('disintegrate');
            
            // Muestra estilo de mensaje temporal/diagn√≥stico
            messageContainer.classList.add('message-box'); 
            messageContainer.className = 'w-full h-24 bg-[#2A2A2A] border-4 rounded-lg p-3 transition-all duration-300 flex items-center justify-center text-center text-lg text-gray-300 shadow-xl ' + data.border;
            messageContainer.querySelector('span').textContent = '';

            
            // Navegaci√≥n/Mensaje despu√©s de la animaci√≥n de desintegraci√≥n
            setTimeout(() => {
                // Quita la clase de desintegraci√≥n
                iconElement.classList.remove('disintegrate'); 
                
                // Navega a la vista secundaria
                navigateToView(data.view);
                // Muestra el mensaje de transici√≥n
                typewriterEffect(data.message, messageContainer.querySelector('span'));
                messageContainer.classList.remove('message-box'); 

            }, 450); 
        }
        
        // --- WhatsApp Contact Functions (Preserved) ---

        function contactWhatsApp() {
            if (currentWaText) {
                const encodedText = encodeURIComponent(currentWaText);
                const waUrl = `https://wa.me/${WA_NUMBER}?text=${encodedText}`;
                window.open(waUrl, '_blank');
            }
        }

        function contactWhatsAppCourse(courseName) {
             const message = `Hola Protcam, estoy interesado(a) en el curso: ${courseName}. Me gustar√≠a recibir m√°s informaci√≥n.`;
             const encodedText = encodeURIComponent(message);
             const waUrl = `https://wa.me/${WA_NUMBER}?text=${encodedText}`;
             window.open(waUrl, '_blank');
        }
        
        function contactWhatsAppDiagnosis(diagnosisType) {
             const message = `Hola Protcam, necesito agendar una revisi√≥n para mi celular, espec√≠ficamente sobre: ${diagnosisType}.`;
             const encodedText = encodeURIComponent(message);
             const waUrl = `https://wa.me/${WA_NUMBER}?text=${encodedText}`;
             window.open(waUrl, '_blank');
        }
        
        function contactWhatsAppDiagnosisPC(diagnosisType) {
             const message = `Hola Protcam, necesito agendar una revisi√≥n para mi PC/Laptop, espec√≠ficamente sobre: ${diagnosisType}.`;
             const encodedText = encodeURIComponent(message);
             const waUrl = `https://wa.me/${WA_NUMBER}?text=${encodedText}`;
             window.open(waUrl, '_blank');
        }
        
        // --- Gemini LLM Integration (Preserved) ---

        async function callGeminiAPI(payload, maxRetries = 3) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(API_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (response.ok) {
                        return await response.json();
                    } else if (response.status === 429 && i < maxRetries - 1) {
                        const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                        await new Promise(resolve => setTimeout(resolve, delay));
                        continue;
                    } else {
                        throw new Error(`API call failed with status: ${response.status}`);
                    }
                } catch (error) {
                    if (i === maxRetries - 1) {
                         console.error("Gemini API Error:", error);
                         throw new Error("Error al conectar con el Asistente Digital. Intenta de nuevo m√°s tarde.");
                    }
                }
            }
            throw new Error("Fall√≥ la conexi√≥n con la API despu√©s de varios reintentos.");
        }


        async function generateCareerRecommendation() {
            const goal = careerInput.value.trim();
            if (!goal) {
                recommendationText.textContent = "Por favor, describe tu objetivo antes de generar la recomendaci√≥n.";
                recommendationOutput.classList.remove('hidden');
                return;
            }

            // UI Feedback: Loading state
            generateBtn.disabled = true;
            btnText.textContent = 'Generando...';
            loadingSpinner.classList.remove('hidden');
            recommendationOutput.classList.remove('hidden');
            recommendationText.textContent = "Consultando el Asistente de Ruta Digital...";

            const systemPrompt = `Eres un asesor de carrera experto en inform√°tica, trabajando para el centro de capacitaci√≥n Protcam. Tu objetivo es recomendar el nivel de curso de Protcam (Infantil, Padres, B√°sico o Avanzado) que mejor se alinea con el objetivo profesional, la necesidad o la edad del usuario, bas√°ndote en la siguiente oferta:
- **Nivel Infantil (Exploradores Digitales):** Enfocado en l√≥gica, programaci√≥n b√°sica, y uso creativo de herramientas digitales. Ideal para ni√±os y j√≥venes que inician.
- **Nivel Padres (Seguridad y Control Parental):** Enfocado en ciberseguridad familiar, l√≠mites de uso y configuraci√≥n de control parental. Ideal para padres de familia.
- **Nivel B√°sico (Dominio Esencial):** Enfocado en Windows, Microsoft Office (Word, Excel), gesti√≥n de archivos y seguridad web b√°sica. Ideal para adultos principiantes o para conseguir bases de oficina.
- **Nivel Avanzado (Productividad y Redes):** Enfocado en Excel Avanzado (tablas din√°micas), configuraci√≥n de redes dom√©sticas/peque√±a oficina y seguridad inform√°tica avanzada. Ideal para optimizaci√≥n y mejora laboral.

Genera una respuesta clara y concisa (m√°ximo 4-5 frases) recomendando el curso y justificando brevemente la elecci√≥n. No uses adornos innecesarios.`;
            
            const userQuery = `Mi objetivo o inter√©s es: "${goal}". ¬øQu√© curso de Protcam me recomiendas (Infantil, Padres, B√°sico o Avanzado) y por qu√©?`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
                tools: [{ "google_search": {} }] 
            };

            try {
                const result = await callGeminiAPI(payload);
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "No se pudo obtener una recomendaci√≥n. Intenta reformular tu objetivo.";
                recommendationText.textContent = text;
            } catch (error) {
                recommendationText.textContent = error.message;
            } finally {
                // UI Feedback: Reset loading state
                generateBtn.disabled = false;
                btnText.textContent = '‚ú® Generar Recomendaci√≥n';
                loadingSpinner.classList.add('hidden');
            }
        }
        
        // Hace las funciones globales
        window.contactWhatsApp = contactWhatsApp; 
        window.contactWhatsAppCourse = contactWhatsAppCourse;
        window.contactWhatsAppDiagnosis = contactWhatsAppDiagnosis; 
        window.contactWhatsAppDiagnosisPC = contactWhatsAppDiagnosisPC; 
        window.navigateToMain = navigateToMain;
        window.navigateToMobileDiagnosis = () => navigateToView(mobileDiagnosisView);
        window.navigateToPCDiagnosis = () => navigateToView(pcDiagnosisView); 
        window.navigateToCourses = () => navigateToView(coursesView);
        window.generateCareerRecommendation = generateCareerRecommendation; 

        
        function setupListeners() {
            document.querySelectorAll('.interactive-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    const service = e.currentTarget.getAttribute('data-service');
                    const iconElement = e.currentTarget; 
                    displayMessage(service, iconElement);
                });
            });
            
             // El main-content ya est√° oculto por defecto en el CSS con visibility: hidden y opacity: 0
             // No necesitamos manipular style.display aqu√≠.
        }

        // --- Initialization ---
        // Llamamos a setupListeners cuando el DOM est√© completamente cargado.
        document.addEventListener('DOMContentLoaded', setupListeners);
    </script>
</body>
</html>
